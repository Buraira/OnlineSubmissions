#include <iostream>
#include <queue>
#include <vector> 
#include <array>

using namespace std;

int main() {
	
	int v,e,n1,n2;
	queue<int> q;
	int i,j;
	
	while(cin >> v >> e){
		if (v != 0 || e != 0)
		{
			int arr[v][v] = {0};	
			int check[v] = {0}; 
			
			for (i =0 ; i<e; i++){
				cin >> n1 >> n2;
				arr[n1][n2] = 1;
				arr[n2][n1] = 1;
			}
			
			for (i = 0; i < v ; i++){
				
				if(check[i] != 1)
				{	
					q.push(i);
					check[i] = 1;	
				}
				
				for (j = i+1; j < v ; j++){
					if(arr[i][j] == 1 && check[j] != 1)
					{
						q.push(j);
						check[j] = 1;
					}
				}
				
				while(!q.empty()){
					cout<< q.front() <<" ";
					q.pop();
				}
			}		
		}
	}
	
	
	return 0;
}

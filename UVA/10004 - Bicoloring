#include <iostream>
#include <queue>
#include <array> 

using namespace std;

int check(queue<int> check)
{
	array<int check.size()> arr;
	
	for (int i = 0; i <check.size(); i++)
	{
		arr[i] = check.front()
	}
}
int main() {
	// your code goes here
	
	int v,e,n1,n2,chk;
	queue<int> q;
	int i,j;
	
	while(cin >> v >> e){
		if (v != 0 || e != 0)
		{
			int arr[v][v] = {0};	
			
			for (i =0 ; i<e; i++){
				cin >> n1 >> n2;
				arr[n1][n2] = 1;
				arr[n2][n1] = 1;
			}
			
			for (i = 0; i < v ; i++){
				q.push(i);
				for (j = i+1; j < v ; j++){
					//cout << arr[i][j]<< " "
					if(arr[i][j] == 1)
						q.push(j);
				}
			
			while(!q.empty()){
				
				cout<< q.front() <<" ";
				q.pop();
			}
				cout << endl;
			}
		}
	}
	
	
	return 0;
}
